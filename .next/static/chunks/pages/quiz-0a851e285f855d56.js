(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[498],{2610:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quiz",function(){return a(8322)}])},8322:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSG:function(){return q},default:function(){return M}});var s=a(5893),l=a(2962),i=a(52),n=a(7294),r=a(1163);a(1664);var c=a(9507),o=a(9508),d=a(6008),m=a(7288),u=a(7483),h=a(4819);let x=n.forwardRef((e,t)=>{let{className:a,value:l,...i}=e;return(0,s.jsx)(u.fC,{ref:t,className:(0,h.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",a),...i,children:(0,s.jsx)(u.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});x.displayName=u.fC.displayName;var p=a(8137),f=a(5875),b=a(481),j=a(1593),v=a(8154),N=a(9967),y=a(3552),g=a(3184),w=a(4142),C=a(7066),I=a(3454);let z=I.env.REACT_APP_SUPABASE_URL||"https://ymrtlcyafzuotngltgcb.supabase.co",k=I.env.REACT_APP_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InltcnRsY3lhZnp1b3RuZ2x0Z2NiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTczMjU4MjAsImV4cCI6MjA3MjkwMTgyMH0.-BgOxU6DJe8wF0N_tbBeNpVmHtvfv0BG6YcuzPLK1Gc",_=C.Z.create({baseURL:"".concat(z,"/functions/v1"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(k)}}),P={downloadPDF:e=>_.post("/download-pdf",{fullName:e.fullName,email:e.email,phone:e.phone,planTitle:e.planTitle||"Drone Career Plan",quizData:e.quizData||{},planData:e.planData||{}})};var S=a(1543);let Z="https://ymrtlcyafzuotngltgcb.supabase.co",E="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InltcnRsY3lhZnp1b3RuZ2x0Z2NiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTczMjU4MjAsImV4cCI6MjA3MjkwMTgyMH0.-BgOxU6DJe8wF0N_tbBeNpVmHtvfv0BG6YcuzPLK1Gc";if(!Z||!E)throw Error("Missing Supabase environment variables");let A=(0,S.eI)(Z,E);var G=a(2369),D=()=>{(0,r.useRouter)();let{toast:e}=(0,w.pm)(),[t,a]=(0,n.useState)(0),[l,i]=(0,n.useState)({}),[u,h]=(0,n.useState)(""),[C,I]=(0,n.useState)(!1),[z,k]=(0,n.useState)(!1),[_,S]=(0,n.useState)({name:"",email:"",phone:""}),[Z,E]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=(0,G.yo)();Object.keys(e).length>0&&i(e)},[]);let D=(t+1)/G.nG.length*100,q=t===G.nG.length-1,M=e=>{h(e)},O=()=>{(0,G.nW)(),i({}),a(0),h(""),I(!1),S({name:"",email:"",phone:""}),E(!0)},J=(e,t)=>{S(a=>({...a,[e]:t}))},T=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),Y=e=>/^(\+61|0)[2-478](\s?\d{4}){2}$/.test(e.replace(/\s/g,"")),F=async()=>{if(!_.name||!_.email||!_.phone){e({title:"Please fill all fields",description:"All fields are required to download your plan.",variant:"destructive"});return}if(!T(_.email)){e({title:"Invalid email",description:"Please enter a valid email address.",variant:"destructive"});return}if(!Y(_.phone)){e({title:"Invalid Phone Number",description:"Please enter a valid Australian phone number.",variant:"destructive"});return}if(!Z){e({title:"Agreement Required",description:"Please agree to share your contact information to proceed.",variant:"destructive"});return}k(!0);try{let t=(0,g.Z)(),a=(0,G.nC)(l),s=a.recommendedCourses.map(e=>G.HE[e]),i=Object.entries(l).reduce((e,t)=>{let[a,s]=t,l=G.nG.find(e=>e.id===Number(a));if(!l)return e;let i=l.options.find(e=>e.value===s);return i&&(e[a]=i.text),e},{}),{error:n}=await A.from("status_checks").insert([{id:t,client_name:_.name,timestamp:new Date().toISOString()}]);if(n)throw n;let r=await P.downloadPDF({fullName:_.name,email:_.email,phone:_.phone,planTitle:a.title,quizData:i,planData:{title:a.title,industry:a.industry,description:a.description,recommendedCourses:s,marketOpportunities:a.marketOpportunities,whyNow:a.whyNow}});e({title:"Success!",description:r.data.message||"Your personalized career plan will be sent to your email shortly."}),(0,G.nW)()}catch(s){var t,a;console.error("Download error:",s),e({title:"Download Failed",description:(null===(a=s.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.detail)||"Unable to process your request. Please try again.",variant:"destructive"})}finally{k(!1)}},R=()=>{I(!1),O()};if(!G.nG||0===G.nG.length)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)(d.Zb,{className:"w-full max-w-md",children:(0,s.jsx)(d.aY,{className:"p-8 text-center",children:(0,s.jsx)("p",{className:"text-slate-600",children:"Loading quiz questions..."})})})});let B=G.nG[t];return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 flex items-center justify-center p-4",children:[(0,s.jsxs)("div",{className:"w-full max-w-2xl",children:[(0,s.jsxs)(c.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Career Assessment Quiz"}),(0,s.jsxs)("span",{className:"text-sm font-medium text-slate-600",children:[t+1," of ",G.nG.length]})]}),(0,s.jsx)(x,{value:D,className:"h-2 bg-slate-200"})]}),(0,s.jsx)(c.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:(0,s.jsx)(d.Zb,{className:"bg-white shadow-xl rounded-2xl border-0",children:(0,s.jsxs)(d.aY,{className:"p-8",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-slate-900 mb-6",children:B.question}),B.subtitle&&(0,s.jsx)("p",{className:"text-slate-600 mb-6",children:B.subtitle}),(0,s.jsx)("div",{className:"space-y-3",children:B.options.map(e=>(0,s.jsx)(c.E.button,{onClick:()=>M(e.value),className:"w-full p-4 text-left rounded-xl border-2 transition-all duration-200 ".concat(u===e.value?"border-blue-500 bg-blue-50 shadow-md":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"),whileHover:{scale:1.01},whileTap:{scale:.99},children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"w-5 h-5 rounded-full border-2 mr-3 mt-0.5 flex items-center justify-center ".concat(u===e.value?"border-blue-500 bg-blue-500":"border-slate-300"),children:u===e.value&&(0,s.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-slate-900",children:e.text}),e.description&&(0,s.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:e.description})]})]})},e.value))})]})})},t),(0,s.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"flex justify-between mt-8",children:[(0,s.jsxs)(m.z,{onClick:()=>{t>0&&(a(t-1),h(l[G.nG[t-1].id]||""))},variant:"outline",className:"px-6 py-3 rounded-full",disabled:0===t,children:[(0,s.jsx)(f.Z,{className:"mr-2 w-4 h-4"}),"Previous"]}),t>0&&t<G.nG.length-1&&(0,s.jsxs)(m.z,{onClick:O,variant:"ghost",className:"px-6 py-3 rounded-full text-slate-600",children:[(0,s.jsx)(b.Z,{className:"mr-2 w-4 h-4"}),"Start Over"]}),(0,s.jsxs)(m.z,{onClick:()=>{if(!u)return;let e={...l,[G.nG[t].id]:u};i(e),(0,G.Fn)(e),console.log("newAnswers :>> ",e),q?I(!0):(a(t+1),h(""))},disabled:!u,className:"px-6 py-3 rounded-full bg-blue-600 hover:bg-blue-700 text-white",children:[q?"Complete":"Next",(0,s.jsx)(j.Z,{className:"ml-2 w-4 h-4"})]})]}),(0,s.jsx)(c.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.5},className:"flex justify-center mt-12",children:(0,s.jsx)("div",{className:"flex space-x-2",children:G.nG.map((e,a)=>(0,s.jsx)("div",{className:"w-2 h-2 rounded-full transition-colors duration-300 ".concat(a<t?"bg-green-500":a===t?"bg-slate-900":"bg-slate-300")},a))})})]}),(0,s.jsx)(o.M,{children:C&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:()=>I(!1)}),(0,s.jsx)(c.E.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},transition:{duration:.3},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,s.jsx)(d.Zb,{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl",children:(0,s.jsxs)(d.aY,{className:"p-8 relative",children:[(0,s.jsx)("button",{onClick:R,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 transition-colors",children:(0,s.jsx)(v.Z,{className:"w-5 h-5 text-gray-500"})}),(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("div",{className:"inline-flex p-4 rounded-full bg-green-50 mb-4 border border-green-200",children:(0,s.jsx)(N.Z,{className:"w-8 h-8 text-green-600"})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Congratulations!"}),(0,s.jsx)("p",{className:"text-slate-600",children:"You've completed the career assessment. Get your personalized drone career plan now!"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name *"}),(0,s.jsx)(p.I,{type:"text",value:_.name,onChange:e=>J("name",e.target.value),placeholder:"Your full name",className:"w-full",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email *"}),(0,s.jsx)(p.I,{type:"email",value:_.email,onChange:e=>J("email",e.target.value),placeholder:"your@email.com",className:"w-full",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Phone *"}),(0,s.jsx)(p.I,{type:"tel",value:_.phone,onChange:e=>J("phone",e.target.value),placeholder:"Your phone number",className:"w-full",required:!0})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",id:"agreeToShare",checked:Z,onChange:e=>E(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"agreeToShare",className:"ml-2 block text-sm text-slate-700",children:"I agree to receive my personalized career plan and training information"})]}),(0,s.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,s.jsx)(m.z,{onClick:R,variant:"outline",className:"flex-1",children:"Cancel"}),(0,s.jsx)(m.z,{onClick:F,disabled:z,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:z?(0,s.jsx)(s.Fragment,{children:"Processing..."}):(0,s.jsxs)(s.Fragment,{children:["Get My Plan",(0,s.jsx)(y.Z,{className:"ml-2 w-4 h-4"})]})})]})]})]})})})]})})]})},q=!0;function M(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.PB,{title:"Career Assessment Quiz | Drone Career Pro",description:"Take our free career assessment quiz to discover your ideal drone career path and get a personalized training plan.",canonical:"https://dronecareerpro.au/quiz",noindex:!0,openGraph:{url:"https://dronecareerpro.au/quiz",title:"Drone Career Assessment Quiz",description:"Discover your ideal drone career path with our free assessment quiz.",site_name:"Drone Career Pro",locale:"en_AU",type:"website"}}),(0,s.jsx)(D,{})]})}M.getLayout=function(e){return(0,s.jsx)(i.Z,{children:e})}}},function(e){e.O(0,[823,367,73,198,888,774,179],function(){return e(e.s=2610)}),_N_E=e.O()}]);